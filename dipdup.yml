spec_version: 1.2
package: quipuswap_v3_indexer

database:
  kind: postgres
  host: localhost
  port: 5432
  user: postgres
  password: changeme
  database: postgres
  schema_name: public

contracts:
  v3_pool:
    address: KT1XfiFL1sfrncPUg8SNsgTFKsSS4e2fbT7f
    typename: v3_pool

datasources:
  tzkt:
    kind: tzkt
    url: https://api.tzkt.io

indexes:
  factories:
    kind: operation
    datasource: tzkt
    types:
      - origination
    first_level:
      1430000
    handlers:
      - callback: on_pool_origination
        pattern:
          - type: origination
            similar_to: v3_pool
